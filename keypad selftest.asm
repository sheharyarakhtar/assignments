ORG 00H

MOV P1,#00
MOV DPTR, #LUT

BACK:	JB P1.0, ROW1
	JB P1.1, ROW2
	JB P1.2, ROW3
	JB P1.3, ROW4
	SJMP BACK

ROW1:
	JNB P1.4, C2
	MOV A,#01
	ACALL DISP
	SJMP BACK

C2:	JNB P1.5, C3
	MOV A, #02
	ACALL DISP
	SJMP BACK
	
C3:	JNB P1.6, C4
	MOV A,#03
	ACALL DISP
	SJMP BACK

C4:	 MOV A,#4
	ACALL DISP
	SJMP BACK
	
ROW2:
	JNB P1.4, C5
	MOV A,#5
	ACALL DISP
	SJMP BACK

C5:	JNB P1.5, C6
	MOV A, #6
	ACALL DISP
	SJMP BACK
	
C6:	JNB P1.6, C6
	MOV A,#7
	ACALL DISP
	SJMP BACK

C7:	 MOV A,#8
	ACALL DISP
	SJMP BACK
	
ROW3:
	JNB P1.4, C8
	MOV A,#9
	ACALL DISP
	SJMP BACK

C8:	JNB P1.5, C9
	MOV A, #10
	ACALL DISP
	SJMP BACK
	
C9:	JNB P1.6, C10
	MOV A,#11
	ACALL DISP
	SJMP BACK

C10:	 MOV A,#12
	ACALL DISP
	SJMP BACK
	
ROW4:
	JNB P1.4, C11
	MOV A,#13
	ACALL DISP
	SJMP BACK

C11:	JNB P1.5, C12
	MOV A, #14
	ACALL DISP
	LJMP BACK
	
C12:	JNB P1.6, C13
	MOV A,#15
	ACALL DISP
	LJMP BACK

C13:	 MOV A,#16
	ACALL DISP
	LJMP BACK
	
DISP: 	MOVC A,@A+DPTR
	MOV P0,A
	CLR A
	RET
	
ORG 300H
LUT: DB 01100000B ;Look up table starts here
     DB 11011010B
     DB 11110010B
     DB 11101110B
     DB 01100110B
     DB 10110110B
     DB 10111110B
     DB 00111110B
     DB 11100000B
     DB 11111110B
     DB 11110110B
     DB 10011100B
     DB 10011110B
     DB 11111100B
     DB 10001110B
     DB 01111010B
     
     END